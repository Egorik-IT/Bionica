"use strict";(self.webpackChunkvkweb=self.webpackChunkvkweb||[]).push([[99364],{712846:(e,t,s)=>{s.d(t,{default:()=>a});var o=s(474848),i=s(8520),n=s(296540);const a=({photo:e,title:t,isOnline:s,isMobile:a,onlineSize:r="m",element:l,className:c,...d})=>{const[h,p]=(0,n.useState)(!1),u=l||"div",m=`Avatar--badge-${r}`,f=(0,i.classNames)("Avatar",m,c,{"Avatar--online":s,"Avatar--mobile":a});return(0,o.jsx)(u,{className:f,...d,children:(0,o.jsx)("div",{className:"Avatar__wrapper",children:(0,o.jsx)("img",{onError:()=>{p(!0)},className:"Avatar__img",src:h?"/images/camera_c.gif":e,alt:t})})})}},804930:(e,t,s)=>{s.d(t,{BaseModal:()=>r});var o=s(474848),i=s(296540),n=s(440961),a=s(8520);class r extends i.Component{componentDidMount(){const{disableEscapeClose:e,disableBodyScroll:t}=this.props;e||document.body.addEventListener("keydown",this.onDocumentKeyDown),t&&(this._scrollbarMeasureClass=(0,o.jsx)("div",{className:"BaseModal__scrollbarMeasure"}).props.className,this._bodyHiddenOverflowClass=(0,o.jsx)("div",{className:"BaseModal__bodyHiddenOverflow"}).props.className,this.hideScrollBar())}componentWillUnmount(){const{disableEscapeClose:e,disableBodyScroll:t}=this.props;e||document.body.removeEventListener("keydown",this.onDocumentKeyDown),t&&this.showScrollBar()}renderModal(){const{className:e,"data-testid":t}=this.props,s=(0,a.classNames)("BaseModal",e);return(0,o.jsxs)("div",{"data-testid":t,className:s,"aria-modal":"true",children:[(0,o.jsx)("div",{className:"BaseModal__backdrop",onClick:this.onBackdropClick}),(0,o.jsx)("div",{className:"BaseModal__content",children:this.props.children})]})}render(){return n.createPortal(this.renderModal(),document.body)}constructor(...e){super(...e),this.getScrollbarWidth=()=>{const e=document.createElement("div");e.classList.add(this._scrollbarMeasureClass),document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t},this.hideScrollBar=()=>{const e=document.body.getBoundingClientRect(),t=e.left+e.right<window.innerWidth,s=this.getScrollbarWidth();this.calculatedPadding=window.getComputedStyle(document.body).paddingRight,t&&(document.body.style.paddingRight=`${parseFloat(this.calculatedPadding)+s}px`),document.body.classList.add(this._bodyHiddenOverflowClass)},this.showScrollBar=()=>{document.body.style.paddingRight=this.calculatedPadding,document.body.classList.remove(this._bodyHiddenOverflowClass)},this.onDocumentKeyDown=e=>{const{onClose:t}=this.props;"Escape"===e.key&&t()},this.onBackdropClick=()=>{const{onClose:e,onBackdropClick:t,disableBackdropClick:s}=this.props;s||(t?t():e())}}}r.defaultProps={className:"",children:null,disableBackdropClick:!1,disableEscapeClose:!1,disableBodyScroll:!1}},447542:(e,t,s)=>{s.d(t,{default:()=>r});var o=s(474848),i=s(296540),n=s(440961),a=s(8520);const r=({x:e,y:t,text:s,position:r="b",align:l="center",removed:c,maxWidth:d,appearance:h="dark",className:p,tooltipRef:u,tooltipInRef:m,arrow:f,...g})=>{const v=(0,i.useRef)(null);g.static||v.current||(v.current=document.createElement("div"),document.body.appendChild(v.current));const w=(0,a.classNames)("Tooltip",`Tooltip--${r}`,`Tooltip--${h}`,{"Tooltip--static":g.static,"Tooltip--removed":!!c,[`Tooltip--align-${l}`]:"t"===r||"b"===r,[`Tooltip--arrow-${f}`]:"r"===r||"l"===r||"hide"===f},p),x=(0,o.jsxs)("div",{...g,className:w,ref:u,style:g.static?{}:{top:t,left:e},children:["string"==typeof s&&(0,o.jsx)("div",{className:"Tooltip__in",ref:m,style:{maxWidth:d},dangerouslySetInnerHTML:{__html:s}}),"string"!=typeof s&&(0,o.jsx)("div",{className:"Tooltip__in",ref:m,style:{maxWidth:d},children:s})]});return g.static?x:v.current?(0,n.createPortal)(x,v.current):x}},307690:(e,t,s)=>{s.d(t,{BlockSearchInput:()=>a});var o=s(474848),i=s(8520),n=s(129978);const a=({className:e,getRef:t,...s})=>(0,o.jsx)(n.default,{...s,className:(0,i.classNames)(e,"BlockSearchInput"),getRef:t})},712788:(e,t,s)=>{s.d(t,{default:()=>c});var o=s(474848),i=s(296540),n=s(8520),a=s(425842);const r=["primary","positive"];function l(e){return Array.isArray(e)?e.map((e=>`Button--${e}`)):[`Button--${e}`]}class c extends i.Component{render(){const e=this.props,{className:t,mode:s,appearance:i,wide:c,stretched:d,overflow:h,size:p,loading:u,...m}=e,{disabled:f}=e,g=r.includes(i),v=l(s||i),w=(0,n.classNames)("Button",`Button--size-${p}`,...v,{"Button--wide":c||d,"Button--overflow":!!h,"Button--disabled":f,"Button--loading":u},t);return(0,o.jsxs)("button",{...m,className:w,children:[e.children,u&&(0,o.jsx)(a.default,{inverted:g,className:"Button__progress"})]})}}c.defaultProps={appearance:"primary",size:"m",wide:!1,stretched:!1,disabled:!1,loading:!1}},10758:(e,t,s)=>{s.d(t,{WithEmoji:()=>c,default:()=>d,setHTML:()=>l});var o=s(474848),i=s(296540),n=s(8520),a=s(168387),r=s(697157);function l(e,t){let s=!!window.getSelection&&window.getSelection(),o=null;if(s&&s.rangeCount){let e=s.getRangeAt(0);o=e.commonAncestorContainer?e.commonAncestorContainer:e.parentElement?e.parentElement():e.item(0)}let i=o;for(;i&&i!==e;)i=i.parentNode;window.Emoji&&(i||window.Emoji.editableFocus(e,!1,!0),window.Emoji.insertHTML(t))}const c=(0,i.memo)((({title:e,children:t})=>{const s=(0,i.useRef)(null),r=(0,i.useRef)({}),l=(0,i.useMemo)((()=>{const e=i.Children.only(t);return(0,i.cloneElement)(e,{isMultiLine:e.props.isMultiLine,getRef:t=>{e?.ref&&e.getRef(t),r.current=t||{}},className:(0,n.classNames)(e.props.className,"WithEmoji__textbox")})}),[t]);return(0,i.useEffect)((()=>{window.Emoji&&r&&window.Emoji.init(r.current,{noStickers:!0,onSend:()=>{},ctrlSend:()=>!0,noLineBreaks:!l.props.isMultiLine})}),[]),(0,o.jsxs)("div",{className:"WithEmoji__field _emoji_field_wrap",children:[l,(0,o.jsx)("div",{className:"WithEmoji__smile emoji_smile_wrap _emoji_wrap",children:(0,o.jsx)("div",{"data-testid":"content-editable-emoji-smile",className:"emoji_smile _emoji_btn",ref:s,title:e,onMouseOver:e=>{e.persist(),window.Emoji&&window.Emoji.show(s.current,e)},onMouseOut:e=>{e.persist(),window.Emoji&&window.Emoji.hide(s.current,e)},children:(0,o.jsx)(a.Icon24SmileOutline,{})})})]})}));c.displayName="WithEmoji";const d=({tabIndex:e=0,isMultiLine:t=!1,initialValue:s="",onChange:n,getRef:a})=>{const l=(0,i.useRef)(null),c=(0,i.useRef)(!1),d=(0,r.useExternRef)(l,a);return(0,i.useEffect)((()=>{const e=l.current;if(!e||c.current)return;c.current=!0;const t=s;return window.Emoji&&window.Emoji.val(e,window.Emoji.emojiToHTML(t)),()=>{c.current=!1}}),[]),(0,o.jsx)("div",{role:"textbox",ref:d,tabIndex:e,contentEditable:!0,"aria-multiline":t,onInput:()=>{n&&window.Emoji&&l.current&&n(window.Emoji.val(l.current))}})}},870598:(e,t,s)=>{s.d(t,{ConversationNoPhoto:()=>n});var o=s(474848),i=s(8520);const n=({id:e,size:t="m",text:s,specificType:n,className:a,...r})=>{const l=n||Math.abs(e%6)+1,c=(0,i.classNames)("ConversationNoPhoto",`ConversationNoPhoto--${l}`,`ConversationNoPhoto--${t}`,a);return(0,o.jsx)("figure",{...r,className:c,dangerouslySetInnerHTML:{__html:s}})}},838746:(e,t,s)=>{s.d(t,{default:()=>r});var o=s(474848),i=s(296540),n=s(440961),a=s(8520);class r extends i.Component{componentDidMount(){this.el=(0,n.findDOMNode)(this),"click"===this.props.trigger?(this.el.addEventListener("click",this.onClick),document.addEventListener("mousedown",this.onDocumentClick),window.addEventListener("resize",this.onResize)):(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("mouseleave",this.onMouseLeave))}componentWillUnmount(){Object.keys(this.timeouts).forEach((e=>{clearTimeout(this.timeouts[e])})),"click"===this.props.trigger?(this.el.removeEventListener("click",this.onClick),document.removeEventListener("mousedown",this.onDocumentClick),window.removeEventListener("resize",this.onResize)):(this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("mouseleave",this.onMouseLeave)),this.defaultNode&&(this.defaultNode.parentNode?.removeChild(this.defaultNode),delete this.defaultNode)}update(e){if(!e)return this.setState({dropdown:Object.assign({},this.state.dropdown,{removed:!0})});const{position:t,align:s,horizontalPosition:o,rect:i,marginTop:n,marginLeft:a}=e;let r=i.left,l=i.top;switch(t){case"t":"center"===o?r+=.5*i.width:"right"===o&&(r+=i.width);break;case"r":r+=i.width,l+=.5*i.height;break;case"b":l+=i.height,"center"===o?r+=.5*i.width:"right"===o&&(r+=i.width);break;case"l":l+=.5*i.height}r=Math.round(r+(a??0)),l=Math.round(l+(n??0)),this.setState({dropdown:{position:t,align:s,x:r,y:l}})}renderDropdown(){if(!this.state.dropdown)return null;const{x:e,y:t,position:s,align:i,removed:n}=this.state.dropdown,r=(0,a.classNames)("Dropdown",`Dropdown--${s}`,!!n&&"Dropdown--removed",("t"===s||"b"===s)&&`Dropdown--align-${i}`,`Dropdown--${this.props.appearance}`,this.props.className);return(0,o.jsx)("div",{className:r,style:{top:t,left:e},onTransitionEnd:e=>this.onTransitionEnd(e),onMouseEnter:this.onDropdownMouseEnter,onMouseLeave:this.onDropdownMouseLeave,children:(0,o.jsx)("ul",{className:"Dropdown__in",children:this.props.data.map(((e,t)=>(0,o.jsx)("li",{className:(0,a.classNames)("Dropdown__item",e.separator&&"Dropdown__itemSeparator",e.negative&&"Dropdown__itemNegative",e.noHover&&"Dropdown__itemNoHover"),onClick:t=>this.onItemClick(t,e),"data-testid":e.testId,children:e.text},void 0!==e.id?e.id:t)))})})}render(){const e=this.renderDropdown();return e?(this.defaultNode||"undefined"==typeof window||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),(0,o.jsxs)(o.Fragment,{children:[this.props.children,(0,n.createPortal)(e,this.defaultNode)]})):this.props.children}constructor(e){super(e),this.hovered=!1,this.callerHovered=!1,this.onClick=()=>{if(!this.state.dropdown||this.state.dropdown.removed){const{position:e,align:t,marginTop:s,marginLeft:o,horizontalPosition:i}=this.props,n=(0,a.getOffsetRect)(this.el);this.update({position:e,horizontalPosition:i,align:t,rect:n,marginTop:s,marginLeft:o})}else this.update()},this.onMouseEnter=()=>{this.callerHovered=!0,this.timeouts.appear=window.setTimeout((()=>{if(this.el&&this.callerHovered){const{position:e,align:t,marginTop:s,marginLeft:o,horizontalPosition:i}=this.props,n=(0,a.getOffsetRect)(this.el);this.update({position:e,align:t,horizontalPosition:i,rect:n,marginTop:s,marginLeft:o})}}),80)},this.onMouseLeave=()=>{this.callerHovered=!1,this.timeouts.callerDisappear=window.setTimeout((()=>{this.callerHovered||this.hovered||this.update()}),250)},this.onDropdownMouseEnter=()=>{"hover"===this.props.trigger&&(this.hovered=!0)},this.onDropdownMouseLeave=()=>{"hover"===this.props.trigger&&(this.hovered=!1,this.timeouts.disappear=window.setTimeout((()=>{this.callerHovered||this.hovered||this.update()}),250))},this.onDocumentClick=e=>{!this.state.dropdown||this.state.dropdown.removed||this.el.contains(e.target)||this.update()},this.onResize=()=>{if(this.state.dropdown&&!this.state.dropdown.removed){const{position:e,align:t,marginTop:s,marginLeft:o,horizontalPosition:i}=this.props,n=(0,a.getOffsetRect)(this.el);this.update({position:e,align:t,horizontalPosition:i,rect:n,marginTop:s,marginLeft:o})}},this.onTransitionEnd=e=>{"visibility"===e.propertyName&&this.state.dropdown&&this.state.dropdown.removed&&this.setState({dropdown:void 0})},this.onItemClick=(e,t)=>{t.separator||(this.update(),t.onClick&&t.onClick(e))},this.state={},this.timeouts={}}}r.defaultProps={position:"b",horizontalPosition:"center",align:"center",marginTop:0,marginLeft:0,trigger:"click",appearance:"primary"}},896330:(e,t,s)=>{s.d(t,{EditableLabel:()=>l});var o=s(474848),i=s(296540),n=s(8520),a=s(763544);const r={height:"auto"};class l extends i.Component{static getDerivedStateFromProps(e,t){return{value:e.value,changed:e.onChange?e.changed:e.value===t.value}}componentDidMount(){this.elRef.current&&this.elRef.current.addEventListener("keydown",this.onKeydown)}componentWillUnmount(){this.elRef.current&&this.elRef.current.removeEventListener("keydown",this.onKeydown)}render(){const{className:e,validate:t,placeholder:s}=this.props,{editing:i,changed:l,value:c}=this.state,d=(0,n.classNames)("EditableLabel",{"EditableLabel--editing":i,"EditableLabel--changed":l,"EditableLabel--invalid":t&&!t(c),"EditableLabel--placeholder":Boolean(!c.trim()&&s)},e);return(0,o.jsx)("div",{className:d,ref:this.elRef,children:i?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.Textarea,{className:"EditableLabel__textarea",onChange:this.onChange,onInput:this.onChange,value:c,onBlur:this.onBlur,style:Object.assign({},r,this.props.textareaStyles),rows:1,getRef:this.getRef,placeholder:s}),l&&(0,o.jsx)("button",{className:"EditableLabel__save",onClick:this.onSave})]}):(0,o.jsx)("div",{className:"EditableLabel__text",onClick:this.onClick,children:c.trim()?c:s})})}constructor(e){super(e),this.elRef=(0,i.createRef)(),this.textarea=null,this.onChange=e=>{this.props.onChange?this.props.onChange(e):this.setState({value:e.target.value,changed:this.props.value!==this.state.value})},this.onClick=()=>{this.setState({editing:!0},(()=>{this.textarea&&this.textarea.focus&&(this.textarea.focus(),this.textarea.select()),this.props.onStartEdit&&this.props.onStartEdit()}))},this.onBlur=()=>{this.state.changed||this.setState({editing:!1})},this.onSave=()=>{this.props.validate&&!this.props.validate(this.state.value)||(this.setState({editing:!1,changed:!1}),this.props.onSave&&this.props.onSave({value:this.state.value}))},this.onKeydown=e=>{this.state.editing&&(27===e.keyCode&&(this.props.onCancel&&this.props.onCancel(),this.setState({editing:!1,changed:!1,value:this.props.value||""}),e.preventDefault(),e.stopPropagation()),this.props.useEnter&&13===e.keyCode&&(this.onSave(),e.preventDefault(),e.stopPropagation()))},this.getRef=e=>{e&&(this.textarea=e)},this.state={value:e.value||"",editing:!1,changed:!!e.onChange&&Boolean(e.changed)}}}l.defaultProps={value:"",changed:!1,useEnter:!1,textareaStyles:{},placeholder:""}},535034:(e,t,s)=>{s.d(t,{default:()=>l});var o=s(474848),i=s(8520),n=s(296540),a=s(127432),r=s(274904);const l=({size:e=null,photo:t="",title:s="",description:l="",href:c="",linkClassName:d,target:h,ignoreDecodeHTML:p,onLinkClick:u=i.noop,className:m,style:f,onClick:g})=>{const[v,w]=(0,n.useState)(!1),x=()=>{w(!0)},N=()=>(0,o.jsx)("img",{src:v?"/images/camera_c.gif":t,alt:s,onError:x,className:"Entity__photo"}),b=p?s:(0,r.decodeHTMLEntities)(s);return(0,o.jsxs)("div",{className:(0,i.classNames)("Entity",m,Boolean(e)&&`Entity--size${e}`),style:f,onClick:g,children:[(0,o.jsx)("div",{className:"Entity__aside",children:"string"==typeof t?c?(0,o.jsx)("a",{href:c,target:h,children:N()}):N():t}),(0,o.jsxs)("div",{className:"Entity__main",children:[s&&c?(0,o.jsx)("div",{className:"Entity__title",children:(0,o.jsx)(a.default,{onClick:u,className:d,href:c,target:h,children:b})}):(0,o.jsx)("div",{className:"Entity__title",children:b}),"string"!=typeof l?(0,o.jsx)("div",{className:"Entity__description",children:l}):(0,o.jsx)("div",{className:"Entity__description",children:(0,r.decodeHTMLEntities)(l)})]})]})}},491626:(e,t,s)=>{s.d(t,{default:()=>r});var o=s(474848),i=s(296540),n=s(606938),a=s(8520);class r extends i.Component{getScrollData(){const e=this.useWindowScroll?document.documentElement:this.container;return[this.getScrollTop(),e?e.scrollHeight:0,e?e.clientHeight:0]}getScrollTop(){const e=document.documentElement||document.body.parentNode||document.body;return this.useWindowScroll?void 0!==window.pageYOffset?window.pageYOffset:e.scrollTop:this.container?this.container.scrollTop:0}attachListeners(){const e=this.useWindowScroll?window:this.container;this.container&&(e?.addEventListener("scroll",this.onScroll,this.props.useCapture),e?.addEventListener("resize",this.onScroll,this.props.useCapture))}detachListeners(){const e=this.useWindowScroll?window:this.container;this.container&&(e?.removeEventListener("scroll",this.onScroll,this.props.useCapture),e?.removeEventListener("resize",this.onScroll,this.props.useCapture))}processChildren(e,t){const s=this.state,o=this.getChildrenData(e,t??this.getScrollData()),{start:i,end:n,before:a,after:r}=o;i===s.start&&n===s.end&&a===s.before&&r===s.after||this.setState(o)}getScrollContainerHeight(e){return e?this.useWindowScroll||e instanceof Window?window.innerHeight:e.offsetHeight:null}getChildrenData(e,[t,s,o]){const n=this.useWindowScroll?window:this.container,a=this.getScrollContainerHeight(n),r=i.Children.count(e);if(!n||0===s||0===o)return{start:0,end:0,before:0,after:r};o=Math.max(o,a||0);const l=this.getPropsWithDefault().itemHeight,c=Math.max(Math.floor(t/l)-1,0),d=Math.min(Math.floor((t+2*o)/l+1),r);return{start:c,end:d,before:c,after:r-d}}UNSAFE_componentWillReceiveProps(e){this.props.virtualized&&this.processChildren(e.children)}componentDidMount(){this.props.useIntersectionObserver||this.attachListeners()}componentWillUnmount(){this.detachListeners()}render(){const{children:e,className:t,hasMore:s,itemHeight:i,loader:r,spinnerColor:l,style:c,virtualized:d}=this.getPropsWithDefault();return(0,o.jsxs)("div",{className:(0,a.classNames)("InfiniteScroll",t),ref:this.getRef,style:c,children:[d&&this.state.before>0&&(0,o.jsx)("div",{style:{height:this.state.before*i}},"before"),this.props.virtualized?[].concat(e).slice(this.state.start,this.state.end):this.props.children,this.props.virtualized&&this.state.after>0&&(0,o.jsx)("div",{style:{height:this.state.after*i}},"after"),s&&(r||(0,o.jsx)("div",{ref:this.applyObserver,className:"InfiniteScroll__loader",children:(0,o.jsx)(n.default,{color:l})},"loader"))]})}constructor(e){super(e),this.checkLoad=(0,a.throttle)((async e=>{const[t,s,o]=e;if(!this.loading){if(!this.props.virtualized&&!this.props.hasMore){if(this.props.onScroll)return;return this.detachListeners()}s-t-o<=this.getPropsWithDefault().threshold&&(this.loading=!0,await this.props.loadMore(),this.loading=!1)}}),34),this.onScroll=e=>{const t=this.getScrollData();this.props.onScroll&&this.props.onScroll(e),this.props.virtualized&&this.processChildren(this.props.children,t),this.props.hasMore&&this.checkLoad(t)},this.applyObserver=e=>{this.props.useIntersectionObserver&&(this.intersectionObserver||(this.intersectionObserver=new IntersectionObserver((e=>{e.forEach((async e=>{e.isIntersecting&&!this.loading&&(this.loading=!0,await this.props.loadMore(),this.loading=!1)}))}))),this.spinnerRef.current&&this.intersectionObserver.unobserve(this.spinnerRef.current),this.spinnerRef.current=e,this.spinnerRef.current&&this.intersectionObserver.observe(this.spinnerRef.current))},this.getRef=e=>{this.container=e,this.props.virtualized&&this.setState(this.getChildrenData(this.props.children,this.getScrollData()))},this.getPropsWithDefault=()=>({...r.defaultProps,...this.props}),this.useWindowScroll=e.useWindowScroll,e.virtualized&&(this.state={before:0,after:i.Children.count(e.children),start:0,end:0}),this.spinnerRef=(0,i.createRef)()}}r.defaultProps={className:"",hasMore:!0,itemHeight:55,threshold:100,useCapture:!1,useWindowScroll:!1,virtualized:!1}},129978:(e,t,s)=>{s.d(t,{default:()=>a});var o=s(474848),i=s(296540),n=s(8520);class a extends i.Component{render(){const{alignment:e,value:t,onChange:s,initialValue:i,className:a,isControlledOutside:r,isError:l,getRef:c,...d}=this.props,h={"Input--left":"left"===e,"Input--center":"center"===e,"Input--right":"right"===e,"Input--error":!!l};return(0,o.jsx)("input",{...d,className:(0,n.classNames)("Input",h,a),ref:c?this.getRef:void 0,value:this.isControlledOutside?t:this.state.value,onChange:this.onChange,onFocus:this.onFocus})}constructor(e){super(e),this.onChange=e=>{this.isControlledOutside||this.setState({value:e.target.value}),this.props.onChange&&this.props.onChange(e)},this.getRef=e=>{this.props.getRef&&("function"==typeof this.props.getRef?this.props.getRef(e):this.props.getRef.current=e)},this.onFocus=e=>{this.props.onFocus&&this.props.onFocus(e)},void 0!==e.value||e.isControlledOutside?this.isControlledOutside=!0:this.state={value:void 0!==e.initialValue?e.initialValue:""}}}a.defaultProps={type:"text",initialValue:"",alignment:"left"}},127504:(e,t,s)=>{s.d(t,{default:()=>r});var o=s(474848),i=s(296540),n=s(8520);const a=e=>Math.round(100*e),r=({color:e="blue",value:t,defaultValue:s=.5,className:r,size:l=1,onChange:c,formatHint:d=a,...h})=>{const p=(0,i.useRef)(),u=(0,i.useRef)(null);if((0,i.useEffect)((()=>{p.current?p.current.setValue(t,!0):p.current=new window.Slider(u.current,{size:l,value:t??s,formatHint:d,onChange:c,...h})}),[t]),s<0||s>1)throw new Error("Bad defaultValue specified to Slider");return(0,o.jsx)("div",{className:(0,n.classNames)("SliderLegacy",`SliderLegacy--${e}`,r),ref:u})}},127432:(e,t,s)=>{s.d(t,{default:()=>n});var o=s(474848),i=s(8520);const n=({onClick:e,hovered:t,className:s,children:n,href:a,...r})=>{const l=(0,i.classNames)("Link",!!t&&"Link--hovered",s);return a?(0,o.jsx)("a",{onClick:e,href:a,...r,className:l,children:n}):(0,o.jsx)("span",{onClick:e,...r,className:l,children:n})}},824312:(e,t,s)=>{s.d(t,{default:()=>n});var o=s(474848),i=s(8520);const n=({border:e=!0,className:t,children:s,style:n})=>{const a={"List--border":e};return(0,o.jsx)("ul",{className:(0,i.classNames)("List",a,t),style:n,children:s})}},19408:(e,t,s)=>{s.d(t,{ListAddControl:()=>r});var o=s(474848),i=s(8520),n=s(549318),a=s(694430);const r=({className:e,children:t,size:s=38,...r})=>{const l=(0,i.classNames)("ListAddControl",e),c=s<=34?n.Icon20Add:a.Icon24Add;return(0,o.jsxs)("button",{className:l,...r,children:[(0,o.jsx)("span",{className:"ListAddControl__icon",style:{width:s,height:s},children:(0,o.jsx)(c,{})}),t]})}},14946:(e,t,s)=>{s.d(t,{default:()=>a});var o=s(474848),i=s(8520),n=s(78510);const a=({icon:e,aside:t,chevron:s=!1,selectable:a=!0,border:r=!0,className:l,children:c,active:d,canBeHovered:h=!0,...p})=>{const u={"ListItem--chevron":s,"ListItem--selectable":a,"ListItem--border":r,"ListItem--active":d,"ListItem--can-be-hovered":h};return(0,o.jsxs)("li",{...p,className:(0,i.classNames)("ListItem",u,l),children:[e&&(0,o.jsx)("div",{className:"ListItem__icon",children:e}),(0,o.jsx)("div",{className:"ListItem__main",children:c}),(0,o.jsx)("div",{className:"ListItem__aside",children:t}),s&&(0,o.jsx)(n.Icon28ChevronRightOutline,{width:26,height:26,fill:"var(--vkui--color_icon_tertiary)"})]})}},133376:(e,t,s)=>{s.d(t,{ListMultiSelectControl:()=>r});var o=s(474848),i=s(8520),n=s(455878),a=s(42560);const r=({isSelected:e})=>{const t=(0,i.classNames)("ListMultiSelectControl",{"ListMultiSelectControl--checked":e});let s;return s=e?(0,o.jsx)(n.Icon24CheckCircleOn,{}):(0,o.jsx)(a.Icon24CheckCircleOff,{}),(0,o.jsx)("div",{role:"switch","aria-checked":e,className:t,children:s})}},969570:(e,t,s)=>{s.d(t,{default:()=>n});var o=s(474848),i=s(8520);const n=({photos:e})=>(0,o.jsx)("div",{className:(0,i.classNames)("MembersGrid",`MembersGrid--${Math.min(e.length,4)}`),children:e.map(((e,t)=>(0,o.jsx)("span",{className:"MembersGrid__i",style:{backgroundImage:`url(${e})`}},t)))})},400470:(e,t,s)=>{s.d(t,{Modal:()=>c});var o=s(474848),i=s(8520),n=s(804930),a=s(629932),r=s(645172),l=s(387512);const c=e=>{const{className:t,appearance:s="white",title:c,actionButtons:d,onClose:h,children:p,footerHint:u,hasScroll:m=!1,backText:f,onBack:g}=e,v=(0,i.classNames)("Modal",`Modal--${s}`,t);return(0,o.jsxs)(n.BaseModal,{...e,className:v,children:[(0,o.jsx)(a.ModalHeader,{title:c,onClose:h,backText:f,onBack:g}),Boolean(p)&&(0,o.jsx)(r.ModalBody,{hasScroll:m,children:p}),(0,o.jsx)(l.ModalFooter,{actionButtons:d,hint:u})]})};c.Header=a.ModalHeader,c.Body=r.ModalBody,c.Footer=l.ModalFooter},645172:(e,t,s)=>{s.d(t,{ModalBody:()=>a});var o=s(474848),i=s(13842),n=s(8520);const a=({children:e,hasScroll:t=!0,className:s})=>t?(0,o.jsx)(i.Scroll,{className:(0,n.classNames)("ModalBody",s),children:e}):(0,o.jsx)("div",{className:(0,n.classNames)("ModalBody",s),children:e})},378992:(e,t,s)=>{s.d(t,{ModalClose:()=>n});var o=s(474848),i=s(8520);const n=({className:e,onClose:t})=>{const s=(0,i.classNames)("ModalClose",e);return(0,o.jsx)("button",{className:s,type:"button",onClick:t,"aria-label":"Закрыть",children:(0,o.jsx)("div",{className:"ModalClose__wrap",children:(0,o.jsx)("div",{className:"ModalClose__icon"})})})}},387512:(e,t,s)=>{s.d(t,{ModalFooter:()=>n});var o=s(474848),i=s(8520);const n=({className:e,actionButtons:t,hint:s,children:n})=>(0,o.jsx)("div",{className:(0,i.classNames)("ModalFooter",e),children:(0,o.jsxs)("div",{className:"ModalFooter__inner",children:[s&&(0,o.jsx)("div",{className:"ModalFooter__hint",role:"presentation",children:s}),n&&(0,o.jsx)("div",{className:"ModalFooter__content",children:n}),t]})})},629932:(e,t,s)=>{s.d(t,{ModalHeader:()=>a});var o=s(474848),i=s(8520),n=s(670191);const a=({className:e,title:t,onClose:s,backText:a,onBack:r})=>{const l=(0,i.classNames)("ModalHeader",e);return(0,o.jsxs)("div",{className:l,children:[a&&(0,o.jsx)("button",{className:"ModalHeader__back",onClick:r,children:a}),(0,o.jsx)("h1",{className:"ModalHeader__title",children:t}),(0,o.jsxs)("button",{className:"ModalHeader__cross",type:"button",onClick:s,children:[(0,o.jsx)(n.Icon24Cancel,{width:22,height:22}),"Закрыть"]})]})}},115886:(e,t,s)=>{s.d(t,{default:()=>a});var o=s(474848),i=s(296540),n=s(8520);const a=e=>{const{className:t}=e,[s,a]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{const e=setTimeout((()=>{a(!0)}),140);return()=>clearTimeout(e)}),[]),s?(0,o.jsxs)("div",{className:(0,n.classNames)("ModalPreloader",t),children:[(0,o.jsxs)("div",{className:"ModalPreloader__animation",children:[(0,o.jsx)("div",{className:"ModalPreloader__dot"}),(0,o.jsx)("div",{className:"ModalPreloader__dot"}),(0,o.jsx)("div",{className:"ModalPreloader__dot"})]}),(0,o.jsx)("div",{className:"ModalPreloader__background"})]}):(0,o.jsx)(o.Fragment,{})}},97266:(e,t,s)=>{s.d(t,{PhotoAreaSelector:()=>p,Targets:()=>o});var o,i=s(474848),n=s(296540),a=s(8520),r=s(381256);!function(e){e.NONE="none",e.MAIN="main",e.PREVIEW_50="50",e.PREVIEW_100="100",e.NW="nw",e.NE="ne",e.N="n",e.SW="sw",e.SE="se",e.S="s",e.W="w",e.E="e"}(o||(o={}));const l=["nw","ne","n","sw","se","s","w","e"],c=["nw","ne","sw","se"],d=["main","50","100"],h=[...l,...d],p=e=>{const{className:t,minWidth:s,minHeight:o,rect:p,rotate:m=0,onCropUpdated:f,onCropResized:g,preview50:v=!1,preview100:w=!1,isSquare:x=!1,customCropArea:N}=e,b=(0,n.useRef)(null),y=x?1:e.minAspectRatio||1,S=x?1:e.maxAspectRatio||1,_=x?c:l,C=p||(0,r.getInitRect)(e),[j,M,k,E,T,L,R]=(0,r.getThumbSize)(e,C);function P(e){return e*R}function D(e){return e/R}const I=(0,r.getInitCrop)(e,C,y,S,D),[O,W]=(0,n.useState)("none"),[A,B]=(0,n.useState)(I),[H,z]=(0,n.useState)(I),[$,F]=(0,n.useState)({x:0,y:0}),[V,U]=(0,n.useState)({x:0,y:0}),[K,X]=(0,n.useState)({x:0,y:0}),[Y,q]=(0,n.useState)(!1),[G,J]=(0,n.useState)(!1);(0,n.useEffect)((function(){const t=(0,r.getInitCrop)(e,C,y,S,D);t.left===A.left&&t.top===A.top&&t.width===A.width&&t.height===A.height||(B(t),z(t)),f({left:Math.floor(t.left),top:Math.floor(t.top),width:Math.floor(t.width),height:Math.floor(t.height)})}),[m]);const Q=h.reduce((function(e,t){var s;return e[t]=(s=t,function(e){const{pageX:t,pageY:o}=e,i=(0,r.getXY)(b.current);let n={x:A.left,y:A.top};if(l.includes(s)){const e=[s.charAt(0),s.length>1?s.charAt(1):s.charAt(0)];n={x:n.x+("w"==e[1]?0:A.width),y:n.y+("n"==e[0]?0:A.height)}}W(s),F(i),z(A),U({x:t,y:o}),X(n),q(!0),e.stopPropagation(),e.preventDefault()}),e}),{}),Z=function(e){const{pageX:t,pageY:i}=e,n={x:t,y:i};d.includes(O)?((0,r.move)(C,A,H,V,n,B,D),document.body.style.cursor="move"):l.includes(O)&&((0,r.resize)(C,n,K,A,O,$,s,o,y,S,D,X,W,B),g?.(e),document.body.style.cursor=`${O}-resize`),e.stopPropagation(),e.preventDefault()},ee=function(e){W("none"),q(!1),f(A),document.body.style.cursor="",e.stopPropagation(),e.preventDefault()};(0,n.useEffect)((function(){return Y?(window.addEventListener("mousemove",Z),window.addEventListener("mouseup",ee)):(window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",ee)),function(){window.removeEventListener("mousemove",Z),window.removeEventListener("mouseup",ee)}}),[Y,Z,ee]);const te=(0,a.classNames)("PhotoAreaSelector",Y?"PhotoAreaSelector--drag-yes":"PhotoAreaSelector--drag-no",t),[se,oe,ie,ne,ae,re]=(0,r.rectToThumbSize)(A,C,P),le=m%4*90;let ce="center";return 1===m?ce=`${E/2}px ${E/2}px`:3===m&&(ce=`${k/2}px ${k/2}px`),(0,i.jsxs)("div",{className:te,children:[(0,i.jsxs)("div",{className:"PhotoAreaSelector__mainWrapper",style:{width:j,height:M},children:[(0,i.jsx)("div",{className:"PhotoAreaSelector__frameWrapper",style:{width:j,height:M},children:(0,i.jsx)("img",{src:e.imgSrc,style:{transformOrigin:ce,width:k,height:E,willChange:"transform",transform:`translate(${T}px, ${L}px) rotate(${le}deg)`},ref:b})}),(0,i.jsx)("div",{className:"PhotoAreaSelector__faded"}),(0,i.jsx)("div",{className:"PhotoAreaSelector__linza",style:{width:se,height:oe},children:(0,i.jsx)("div",{className:"PhotoAreaSelector__linzaFrame",style:{transform:`translate(${ie}px, ${ne}px)`},onMouseDown:Q.main,children:(0,i.jsxs)("div",{className:"PhotoAreaSelector__linzaBorder",children:[N||null,(0,i.jsx)("img",{className:(0,a.classNames)("PhotoAreaSelector__linzaImage",{"PhotoAreaSelector__linzaImage--loaded":G}),onLoad:()=>J(!0),src:e.imgSrc,style:{transformOrigin:ce,width:k,height:E,transform:`translate(${-ae}px, ${-re}px) rotate(${le}deg)`}})]})})}),(0,i.jsx)(i.Fragment,{children:_.map((function(e){let t=0,s=0;if(1===e.length)"n"===e||"s"===e?(t=P(A.left+A.width/2)-5,s=P(A.top+("n"===e?0:A.height))-5):(t=P(A.left+("w"===e?0:A.width))-5,s=P(A.top+A.height/2)-5);else{const o=e.charAt(0),i=e.charAt(1);t=P(A.left+("w"===i?0:A.width))-5,s=P(A.top+("n"===o?0:A.height))-5}const o=(0,a.classNames)("PhotoAreaSelector__handler",`PhotoAreaSelector__handler--type-${e}`,Y?"PhotoAreaSelector__handler--dragged-yes":"PhotoAreaSelector__handler--dragged-no");return(0,i.jsx)("div",{className:o,style:{transform:`translate(${t}px, ${s}px)`},onMouseDown:Q[e]},e)}))})]}),x&&(v||w)?(0,i.jsxs)("div",{className:"PhotoAreaSelector__previewsWrapper",children:[w&&u(100,A,C,e,Q[50]),v&&u(50,A,C,e,Q[100])]}):null]})};function u(e,t,s,o,n){const{imgWidth:r,imgHeight:l,rotate:c=0}=o,d=(0,a.classNames)("PhotoAreaSelector__preview",`PhotoAreaSelector__preview--${e}`),h=(0,a.classNames)("PhotoAreaSelector__previewWrapper",`PhotoAreaSelector__previewWrapper--${e}`),p=-Math.floor((s.left+t.left)*e/t.width),u=-Math.floor((s.top+t.top)*e/t.width),m=Math.ceil(r*e/t.width),f=Math.ceil(l*e/t.height),g=c%4*90;let v="center";return 1===c?v=`${f/2}px ${f/2}px`:3===c&&(v=`${m/2}px ${m/2}px`),(0,i.jsx)("div",{className:d,children:(0,i.jsx)("div",{onMouseDown:n,className:h,children:(0,i.jsx)("img",{src:o.imgSrc,style:{width:m,height:f,transformOrigin:v,willChange:"transform",transform:`translate(${p}px, ${u}px) rotate(${g}deg)`}})})})}},381256:(e,t,s)=>{s.d(t,{getInitCrop:()=>l,getInitRect:()=>a,getThumbSize:()=>r,getXY:()=>h,move:()=>n,rectToThumbSize:()=>c,resize:()=>i});var o=s(97266);function i(e,t,s,i,n,a,r,l,c,h,u,m,f,g){const v=function(e,t,s,o){return{x:p(Math.max(0,o(e.x-t.x)-s.left)),y:p(Math.max(0,o(e.y-t.y)-s.top))}}(t,a,e,u);let w=v.x-s.x,x=v.y-s.y;if(r=u(r),l=u(l),!w&&!x)return;const{width:N,height:b}=e;let{left:y,top:S,width:_,height:C}=i,j=0,M=0;2===n.length?(j=n.startsWith(o.Targets.N)?-1:1,M=n.charAt(1)===o.Targets.W?-1:1):(j=n===o.Targets.N?-1:n===o.Targets.S?1:0,M=n===o.Targets.W?-1:n===o.Targets.E?1:0),j&&C+d(j)*x<l/2&&(j=-j,x=v.y-(i.top+(j>0?i.height:0))),M&&_+d(M)*w<r/2&&(M=-M,w=v.x-(i.left+(M>0?i.width:0)));const k=j?d(j):0,E=M?d(M):0;c>0&&_+E*w<(C+k*x)*c&&(M?w=E*Math.ceil((C+k*x)*c-_):x=k*Math.floor(_/c-C)),h>0&&_+E*w>(C+k*x)*h&&(j?x=k*Math.ceil((_+E*w)/h-C):w=E*Math.floor(C*h-_)),j&&(C+=d(j)*x,C<l?(S-=j>0?0:l-C-x,C=l):S+=j>0?0:x),M&&(_+=d(M)*w,_<r?(y-=M>0?0:r-_-w,_=r):y+=M>0?0:w);let T=0,L=0,R=0,P=0;y<0?(T=y,y=0):_>N-y&&(T=N-y-_),T&&(_+=T,c>0&&_<c*C&&(P=Math.floor(_/c)-C,C+=P,S-=j>0?0:P)),S<0?(L=S,S=0):C>b-S&&(L=b-S-C),L&&(C+=L,h>0&&_>h*C&&(R=Math.floor(C*h)-_,_+=R,y-=M>0?0:R));let D=j>0?o.Targets.S:j<0?o.Targets.N:"",I=M>0?o.Targets.E:M<0?o.Targets.W:"";const O={left:p(y),top:p(S),width:p(_),height:p(C)};if(i.top!==O.top||i.left!==O.left||i.width!==O.width||i.height!==O.height){g(O),m({x:O.left+(M>0?O.width:0),y:O.top+(j>0?O.height:0)});const e=D+I;e!==n&&f(e)}}function n(e,t,s,o,i,n,a){const r=Math.round(s.left+a(i.x-o.x)),l=Math.round(s.top+a(i.y-o.y)),c=p(Math.min(Math.floor(e.width-t.width),Math.max(0,r))),d=p(Math.min(Math.floor(e.height-t.height),Math.max(0,l)));t.left===c&&t.top===d||n({...t,left:c,top:d})}function a(e){const{rotate:t=0}=e;return{left:0,top:0,width:t%2?e.imgHeight:e.imgWidth,height:t%2?e.imgWidth:e.imgHeight}}function r(e,t){const{previewWidth:s,previewHeight:o,imgWidth:i,imgHeight:n}=e,{left:a,top:r,width:l,height:c}=t,d=l-a,h=c-r;if(s){let e=s,t=e/l,p=Math.floor(c*t);o&&d<h&&(p=o,t=p/c,e=Math.floor(l*t));return[e,p,e*(i/l),p*(n/c),-1*a*t,-1*r*t,t]}return[d,h,i,n,-a,-r,1]}function l(e,t,s,o,i){if(e.cropRect)return e.cropRect;const{width:n,height:a}=t;let{minWidth:r,minHeight:l}=e;r=i(r),l=i(l);const c={left:Math.floor(.1*n),top:Math.floor(.1*a),width:Math.floor(.8*n),height:Math.floor(.8*a)};if(c.width<r){const e=r>n?n:r;c.left=Math.max(0,c.left-Math.floor((e-c.width)/2)),c.width=e}if(c.height<l){const e=l>a?a:l;c.left=Math.max(0,c.top-Math.floor((e-c.height)/2)),c.height=e}return c.width<c.height*s&&(c.top=Math.max(0,c.top-Math.floor((c.width/s-c.height)/4)),c.height=Math.floor(c.width/s)),c.width>c.height*o&&(c.left=Math.max(0,c.left-Math.floor((c.height*o-c.width)/2)),c.width=Math.floor(c.height*o)),(n<c.left+c.width||a<c.top+c.height)&&(n<a?(c.left=0,c.top=Math.max(0,Math.floor((a-n)/2)),c.width=n,c.height=n):(c.left=Math.max(0,Math.floor((n-a)/2)),c.top=0,c.width=a,c.height=a)),c}function c(e,t,s){return[p(s(e.width)),p(s(e.height)),p(s(e.left)),p(s(e.top)),p(s(e.left+t.left)),p(s(e.top+t.top))]}function d(e){return e<0?-1:1}function h(e){const t=e.ownerDocument,s=e.getBoundingClientRect();if(!t)return{x:0,y:0};const o=t.documentElement;return{x:s.left+o.scrollLeft-(o.clientLeft||0),y:s.top+o.scrollTop-(o.clientTop||0)}}function p(e){return Number(e.toFixed(2))}},425842:(e,t,s)=>{s.d(t,{default:()=>a});var o=s(474848),i=s(8520);const n=e=>{const{inverted:t,size:s,className:n,...a}=e,r=(0,i.classNames)("Progress",{"Progress--inverted":!!t},`Progress--size-${s}`,n);return(0,o.jsxs)("div",{className:r,...a,children:[(0,o.jsx)("div",{className:"Progress__item"}),(0,o.jsx)("div",{className:"Progress__item"}),(0,o.jsx)("div",{className:"Progress__item"})]})};n.defaultProps={inverted:!1,size:"s"};const a=n},907246:(e,t,s)=>{s.d(t,{connect:()=>l,default:()=>r});var o=s(474848),i=s(296540);const{Provider:n,Consumer:a}=(0,i.createContext)({}),r=n;function l(e){return class extends i.Component{componentDidMount(){this.store.subscribe(this.onUpdate)}componentWillUnmount(){this.store.unsubscribe(this.onUpdate)}render(){return(0,o.jsx)(a,{children:t=>(this.store||(this.store=t),(0,o.jsx)(e,{...this.props,store:t}))})}constructor(...e){super(...e),this.onUpdate=()=>{this.setState({})}}}}},185234:(e,t,s)=>{s.d(t,{default:()=>c});var o=s(474848),i=s(296540),n=s(8520),a=s(491626),r=s(14946),l=s(949266);class c extends i.PureComponent{render(){const{className:e,tokens:t,onSelect:s,renderToken:i,onRemoveToken:c,removeTokenPlaceholder:d,value:h,placeholder:p,useInfiniteScroll:u,loadMore:m,hasMore:f,virtualized:g,notFoundText:v,children:w,emptyText:x,isSearching:N,renderSuggest:b,useSuggestsWrapper:y,data:S,renderInput:_,opened:C,badge:j,disableEmptyList:M,...k}=this.props,E=u?a.default:"div",T=u?{loadMore:m,hasMore:f,virtualized:g,useCapture:!1}:{},L=w?[].concat(w):[],R=!S&&0===L.length||!!S&&0===S.length&&(h||x)&&!N,P=(0,o.jsxs)(o.Fragment,{children:[R&&!M&&(0,o.jsx)("div",{className:"MultiSelect__empty",children:(0,o.jsx)("div",{className:"MultiSelect__emptyIn",children:h?v:x})}),(0,o.jsx)(E,{className:"MultiSelect__scroll",ref:this.scrollContainerRef,...T,children:S?S.map((e=>b(e,this.onSelect))):L.map((e=>b?b(e,this.onSelect):(0,o.jsx)(r.default,{className:"MultiSelect__suggestsItem","data-id":e.props["data-id"],onClick:this.onSelect,children:e},e.key)))})]}),D=_?_():(0,o.jsx)("div",{className:"MultiSelect__search",ref:this.searchContainerRef,children:(0,o.jsx)(l.default,{id:this.inputId,tokens:t,onRemoveToken:c,removeTokenTooltip:d,removeTokenAriaLabel:d,placeholder:p,onChange:this.onChange,onSubmit:()=>{},renderToken:i,value:h,...k,className:"MultiSelect__searchInput"})});return(0,o.jsxs)("div",{className:(0,n.classNames)("MultiSelect",e),children:[D,j,(void 0===C||!0===C)&&(y?(0,o.jsx)("div",{className:"MultiSelect__suggestsWrapper",children:P}):P)]})}constructor(e){super(e),this.onRemoveToken=e=>{const t=this.searchContainer&&this.searchContainer.offsetHeight;this.props.onRemoveToken(e.target.getAttribute("data-id")).then((()=>{(t||0===t)&&this.updateScroll(t)}))},this.onChange=e=>{const t=e.target.value;t!==this.value&&(this.value=t,this.props.onChange(e),this.scrollContainer.scrollTop=0)},this.onSelect=e=>{const t=this.searchContainer&&this.searchContainer.offsetHeight;this.props.onSelect(e.currentTarget.getAttribute("data-id")).then((()=>{(t||0===t)&&this.updateScroll(t)}))},this.updateScroll=e=>{const t=this.searchContainer.offsetHeight;this.searchContainer.querySelector("#"+this.inputId).focus(),this.searchContainer.scrollTop=this.searchContainer.scrollHeight,e!==t&&(this.scrollContainer.scrollTop=this.scrollContainer.scrollTop+t-e)},this.searchContainerRef=e=>{this.searchContainer=e},this.scrollContainerRef=e=>{let t=e;if(e&&e.container)for(t=e;t.container;)t=t.container;this.scrollContainer=t},this.value=e.value,this.inputId="token-input-"+Math.floor(1e6*Math.random()).toString(16)}}c.defaultProps={removeTokenPlaceholder:"",placeholder:"",value:"",useInfiniteScroll:!1,notFoundText:"Not found",useSuggestsWrapper:!1}},982654:(e,t,s)=>{s.d(t,{Scroll:()=>r,ScrollContext:()=>a});var o=s(474848),i=s(296540),n=s(8520);const a=(0,i.createContext)({createScroll:()=>({update:()=>{},destroy:()=>{}})});class r extends i.Component{componentDidMount(){const{isNative:e,isShadows:t,neverHide:s,onScroll:o}=this.props;this.wrapper&&!this.scroller&&this.context&&this.context.createScroll&&(this.scroller=this.context.createScroll(this.wrapper,{shadows:t,nativeScroll:e,hidden:!s,onScroll:o}))}componentDidUpdate(){this.scroller&&this.scroller.update()}componentWillUnmount(){this.scroller&&(this.scroller.destroy(),this.scroller=void 0)}render(){const{children:e,isNative:t,isShadows:s,neverHide:i,className:a="",...r}=this.props;return(0,o.jsx)("div",{...r,className:(0,n.classNames)("Scroll",a),ref:this.getWrapperRef,children:e})}constructor(...e){super(...e),this.getWrapperRef=e=>{this.wrapper=e}}}r.contextType=a,r.defaultProps={isNative:!1,isShadows:!1,neverHide:!1}},683900:(e,t,s)=>{s.d(t,{default:()=>l});var o=s(474848),i=s(296540),n=s(440961),a=s(8520);const r=s(129978).default;class l extends i.Component{getLabel(e){return this.props.searchable?this.props.value||"":e.placeholder||"Select..."}UNSAFE_componentWillReceiveProps(e){this.setState({filteredOptions:e.options,allOptions:e.options}),this.props.editable&&void 0!==e.customValue?this.setState({selected:{label:e.customValue,value:e.customValue}}):void 0!==e.value&&e.value!==this.state.selected?this.setState({selected:this.getOptionByValue(e.options,e.value)}):void 0===e.value&&this.setState({selected:{label:this.getLabel(e),value:""}})}componentDidMount(){this.el=n.findDOMNode(this),document.addEventListener("mousedown",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}componentWillUnmount(){this.mounted=!1,document.removeEventListener("mousedown",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}toggle(e){this.setState({opened:e},(()=>{this.state.opened?this.props.onShow?.():this.props.onHide?.()}))}render(){const{className:e,appearance:t,style:s,searchable:i,editable:n,disabled:r,position:l,isFluid:c,alwaysNotEmpty:d}=this.props,{selected:h,opened:p}=this.state,u=!d&&h&&"object"==typeof h&&!h.value||!1;let m=i||n?"secondary":t,f=(0,a.classNames)("Select",`Select--${m}`,`Select--${l}`,{"Select--opened":!!p,"Select--disabled":!!r,"Select--empty":u,"Select--isFluid":c},e);const g=this.buildControl(h);return(0,o.jsxs)("div",{className:f,style:s,children:[g,this.state.opened&&this.renderMenu()]})}constructor(e){let t;super(e),this.handleMouseDown=e=>{this.props.onFocus&&"function"==typeof this.props.onFocus&&this.props.onFocus(this.state.opened),"mousedown"===e.type&&0!==e.button||(e.stopPropagation(),e.preventDefault(),this.props.disabled||this.props.alwaysOpened||this.toggle(!this.state.opened))},this.getOptionByValue=(e,t)=>{for(let s=0;s<e.length;s++){if(!e.hasOwnProperty(s))continue;const o=e[s];if("object"==typeof o){if("group"===o.type&&void 0!==o.items){const e=this.getOptionByValue(o.items||[],t);if(e)return e}if(o.value===t)return o}else if(o===t)return o}},this.setValue=(e,t,s)=>{s&&s.stopPropagation(),"object"==typeof t&&this.props.searchable&&(t=t.props.title);const o={value:e,label:"object"==typeof t?t:t.toString()},i={selected:o};this.fireChangeEvent(o),this.setState(i),this.props.alwaysOpened||this.toggle(!1)},this.fireChangeEvent=e=>{e!==this.state.selected&&this.props.onChange&&this.props.onChange({name:this.props.name,selected:e})},this.renderOption=e=>{let t=(0,a.classNames)("Select__option",{"Select__option--selected":e===this.state.selected}),s=void 0!==e.value?e.value:e.label||e,i=void 0!==e.label?e.label:e;return(0,o.jsx)("div",{className:t,onMouseDown:e=>this.setValue(s,i,e),onClick:e=>this.setValue(s,i,e),title:e.title,children:i},s)},this.buildMenu=()=>{let e=this.state.filteredOptions.map((e=>"string"!=typeof e&&"group"===e.type?(0,o.jsxs)("div",{className:"Select__group",children:[e.name&&(0,o.jsx)("div",{className:"Select__title",children:e.name}),e.items&&e.items.map((e=>this.renderOption(e)))]},e.name):this.renderOption(e)));return e.length?e:(0,o.jsx)("div",{className:"Select__noresults",children:this.props.searchPlaceholder})},this.renderMenu=()=>this.props.customMenu?this.props.customMenu(this.state.filteredOptions,this.setValue,this.state.selected):(0,o.jsx)("div",{className:"Select__menu",children:this.buildMenu()}),this.filterOptions=(e,t)=>{let s=e.toLowerCase();return t.filter((e=>"string"==typeof e?e.toLowerCase().includes(s):"string"==typeof e.label?e.label.toLowerCase().includes(s):"object"==typeof e.label&&e.label.props.title.toLowerCase().indexOf(s)>=0))},this.handleSearchType=e=>{const t=this.filterOptions(e.target.value,this.state.allOptions);this.setState({selected:{value:e.target.value,label:e.target.value},filteredOptions:t}),this.toggle(!0),this.props.onType&&this.props.onType(e.target.value)},this.handleSearchFocus=e=>{this.props.enableSearchSelectOnFocus&&e.target.select(),this.props.onInputFocus&&this.props.onInputFocus(e)},this.handleEditableType=e=>{this.setState({opened:!0}),this.props.onEdit&&this.props.onEdit(e.target.value)},this.buildControl=e=>{let t,s,i="";const{searchable:n,editable:l,inputOtherProps:c}=this.props,d=(0,a.classNames)("Select__input",c&&c.className);return e&&"string"==typeof e&&(i=e),e&&"object"==typeof e&&(e&&"string"==typeof e.label&&(i=e.label),e&&"object"==typeof e.label&&n&&(i=e.label.props.title||""),e&&"object"==typeof e.label&&!n&&(s=e.placeholder||e.label)),t=n?(0,o.jsxs)("div",{className:"Select__control",onClick:this.handleMouseDown,children:[(0,o.jsx)(r,{placeholder:"string"==typeof this.props.placeholder?this.props.placeholder:void 0,value:i||"",onChange:this.handleSearchType.bind(this),onFocus:this.handleSearchFocus.bind(this),onBlur:e=>this.props.onInputBlur?.(e,this.state.filteredOptions),disabled:this.props.disabled,isControlledOutside:!0,...c,className:d}),(0,o.jsx)("span",{className:"Select__arrow"})]}):l?(0,o.jsxs)("div",{className:"Select__control",onClick:this.handleMouseDown,children:[(0,o.jsx)(r,{placeholder:"string"==typeof this.props.placeholder?this.props.placeholder:void 0,id:this.props.id,value:i||"",onChange:this.handleEditableType,onFocus:this.props.onInputFocus,onBlur:this.props.onInputBlur,disabled:this.props.disabled,isControlledOutside:!0,autoComplete:"off",...c,className:d}),(0,o.jsx)("span",{className:"Select__arrow"})]}):(0,o.jsxs)("div",{className:"Select__control",onClick:this.handleMouseDown,children:[(0,o.jsx)("div",{className:"Select__placeholder",children:i||s}),(0,o.jsx)("span",{className:"Select__arrow"})]}),t},this.handleDocumentClick=e=>{this.mounted&&this.state.opened&&!this.props.alwaysOpened&&this.el&&!this.el.contains(e.target)&&this.toggle(!1)},t=void 0!==e.value?e.editable&&void 0!==e.customValue?{label:e.customValue,value:e.customValue}:this.getOptionByValue(e.options,e.value):{label:this.getLabel(e),value:""},this.state={filteredOptions:e.options,allOptions:e.options,selected:t,opened:!!e.alwaysOpened},this.mounted=!0}}l.defaultProps={appearance:"primary",searchPlaceholder:"No options found",searchable:!1,editable:!1,inputOtherProps:{},onShow:()=>{},onHide:()=>{},position:"b"}},606938:(e,t,s)=>{s.d(t,{default:()=>a});var o=s(474848),i=s(296540),n=s(8520);class a extends i.Component{UNSAFE_componentWillReceiveProps(e){this.setSpinnerParams(e)}setSpinnerParams(e){this.offset=Math.round(Math.PI*e.size),this.c=.5*e.size,this.animation=function(e,t){if(!e||!t)return"";const s=Object.keys(t).map((e=>e+" {"+Object.keys(t[e]).map((s=>s+":"+t[e][s])).join(";")+"}")).join("");return`@-webkit-keyframes ${e} {${s}} @keyframes ${e} {${s}}`}("dash"+this.id,{"0%":{"stroke-dashoffset":this.offset},"50%":{"stroke-dashoffset":Math.round(.25*this.offset),transform:"rotate(135deg)"},"100%":{"stroke-dashoffset":this.offset,transform:"rotate(360deg)"}})}render(){const{style:e,color:t="var(--vkui--color_icon_secondary)",size:s,duration:i,strokeWidth:a,className:r,...l}=this.props,{id:c,offset:d,animation:h}=this,p=(0,n.classNames)("Spinner",r);return(0,o.jsx)("div",{...l,className:p,style:e,children:(0,o.jsx)("svg",{className:"Spinner__svg",width:s,height:s,viewBox:`0 0 ${s} ${s}`,xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsxs)("g",{style:{width:s,height:s,transformOrigin:.5*s+"px "+.5*s+"px"},children:[(0,o.jsx)("style",{dangerouslySetInnerHTML:{__html:h}}),(0,o.jsx)("circle",{className:"Spinner__path",fill:"none",stroke:t,strokeDasharray:d,strokeDashoffset:d,strokeWidth:a,style:{animationName:"dash"+c,animationTimingFunction:"ease-in-out",animationDuration:i+"s",animationIterationCount:"infinite"},cx:.5*s,cy:.5*s,r:.5*s-.5*a})]})})})}constructor(e){super(e),this.id=Math.round(1e6*Math.random()).toString(16),this.setSpinnerParams(e)}}a.defaultProps={color:"#5181b8",size:19,strokeWidth:2,duration:1.4,className:""}},920922:(e,t,s)=>{s.d(t,{default:()=>n});var o=s(474848),i=s(8520);const n=({children:e,alignment:t="left",className:s,style:n})=>{const a={"SubmitArea--left":"left"===t,"SubmitArea--center":"center"===t,"SubmitArea--right":"right"===t};return(0,o.jsx)("div",{className:(0,i.classNames)("SubmitArea",a,s),style:n,children:e})}},358628:(e,t,s)=>{s.d(t,{default:()=>n});var o=s(474848),i=s(8520);const n=({native:e,children:t,checked:s,disabled:n,name:a,type:r="checkbox",id:l,onChange:c,className:d,...h})=>(0,o.jsxs)("label",{className:(0,i.classNames)("Switch",d,n&&"Switch--disabled",!t&&"Switch--last"),htmlFor:l,tabIndex:-1,"aria-checked":!!s,role:"checkbox",children:[(0,o.jsx)("input",{...h,className:"Switch__input",id:l,type:r,checked:s,name:a,disabled:n,onChange:t=>{e?c?.(t):c?.(a,t.target.checked)}}),(0,o.jsx)("span",{className:"Switch__indicator","aria-hidden":!0}),t]})},479096:(e,t,s)=>{s.d(t,{default:()=>a});var o=s(474848),i=s(296540),n=s(8520);class a extends i.Component{static reactifyTabs(e){return(Array.isArray(e)?e:Object.values(e)).map((e=>(0,o.jsx)("a",{href:e[2],onClick:()=>{},children:e[1]?e[1]:""},e[0])))}componentDidUpdate(e){void 0!==this.props.active&&this.props.active!==e.active&&this.setState({active:this.props.active})}getTransform(e){const t=e.offsetWidth;return`translateX(${e.offsetLeft-50+.5*t}px) scaleX(${t/100})`}componentDidMount(){if(!this.state.active)return;const e=this.refsStore[String(this.state.active)];this.setState({transform:this.getTransform(e)})}render(){const e={"Tabs--animating":this.state.isAnimating};return(0,o.jsxs)("nav",{className:(0,n.classNames)("Tabs",this.props.className,e),style:this.props.style,children:[(0,o.jsx)("ul",{className:"Tabs__list",children:i.Children.map(this.props.children,((e,t)=>{if(!(0,i.isValidElement)(e))return null;const s=e.key||t;return(0,o.jsx)("li",{className:(0,n.classNames)("Tabs__item",{"Tabs__item--active":this.state.active===s,"Tabs__item--disabled":this.props.disabledTabMap?.[s]}),onClick:e=>this.onClick(e,s),ref:e=>this.storeRef(s,e),children:e},s)}))}),this.props.aside&&(0,o.jsx)("div",{className:"Tabs__aside",children:this.props.aside}),(0,o.jsx)("div",{style:{transform:this.state.transform},className:"Tabs__divider",onTransitionEnd:this.onTransitionEnd})]})}constructor(e){super(e),this.getActiveTabKey=()=>{const{active:e,activeRequired:t}=this.props,s=[];let o=null;return i.Children.forEach(this.props.children,(t=>{(0,i.isValidElement)(t)&&(t.key===e?o=t.key:s.push(t))})),o||("number"==typeof e&&s.length>e?s[e].key||e:t&&s.length?s[0].key||0:null)},this.onClick=(e,t)=>{if(t!==this.state.active){const s=this.refsStore[String(t)],o=this.getTransform(s);this.setState({active:t,isAnimating:!0,transform:o}),this.props.onTabClick&&this.props.onTabClick(e,t)}},this.onTransitionEnd=e=>{"transform"===e.propertyName&&this.setState({isAnimating:!1})},this.storeRef=(e,t)=>{t&&(this.refsStore[String(e)]=t)},this.refsStore={},this.state={isAnimating:!1,active:this.getActiveTabKey()}}}a.defaultProps={active:0,activeRequired:!0,aside:null,style:{},className:""}},763544:(e,t,s)=>{s.d(t,{Textarea:()=>l});var o=s(474848),i=s(296540),n=s(8520),a=s(697157),r=s(634444);const l=({value:e,initialValue:t="",grow:s=!0,getRef:l,onResize:c,style:d,onChange:h,className:p,...u})=>{const[m,f]=(0,i.useState)(e||t),[g,v]=(0,i.useState)(0),w=(0,i.useRef)(null),x=(0,a.useExternRef)(w,l),N=(0,r.useStableCallback)((()=>{const e=w.current;if(e){const{offsetHeight:t,scrollHeight:s}=e;v(s>=t?s:0),c?.(e)}})),b=e=>{f(e.target.value),h?.(e)};return(0,i.useEffect)((()=>{f(e??"")}),[e]),(0,i.useLayoutEffect)((()=>{s&&N()}),[m,g]),(0,o.jsx)("textarea",{...u,value:m,onChange:b,onInput:b,ref:x,style:{...d,height:g||66},className:(0,n.classNames)("Textarea",p)})}},949266:(e,t,s)=>{s.d(t,{default:()=>l});var o=s(474848),i=s(296540),n=s(8520),a=s(912842),r=s(196147);function l({id:e="token-input",name:t="tokens",tokens:s,onRemoveToken:l,removeTokenTooltip:c="",removeTokenAriaLabel:d="Remove item",renderToken:h,onChange:p,value:u,placeholder:m="",onSubmit:f,className:g="",...v}){const w=(0,i.useRef)(null),x=(0,i.useCallback)((e=>p(e)),[p]),N=(0,i.useCallback)((e=>{"Esc"===e.key&&w.current&&(w.current.value="",w.current.blur(),p(e),e.stopPropagation()),"Enter"===e.key&&f()}),[f]),b=(0,i.useCallback)((e=>{const t=e.target;if(!t)return;const s=t.closest?.("[data-id]");if(!s)return;const o=s.dataset.id;o&&(l(o),w.current&&w.current.focus())}),[l]);return(0,o.jsxs)("div",{className:(0,n.classNames)("TokenInput",g),children:[(0,o.jsx)("label",{htmlFor:e,className:"TokenInput__back"}),s.map((e=>(0,o.jsxs)("span",{className:"TokenInput__token",children:[Boolean(t)&&(0,o.jsx)("input",{type:"hidden",name:t+"[]",value:e.value||e.id}),(0,o.jsx)("span",{className:"TokenInput__label",children:h?h(e):e.text}),!e.locked&&c&&(0,o.jsx)(a.default,{text:c,children:(0,o.jsx)("button",{"data-id":e.id,className:"TokenInput__remove",onClick:b,"aria-label":d,children:(0,o.jsx)(r.Icon16Cancel,{})})}),!e.locked&&!c&&(0,o.jsx)("button",{"data-id":e.id,className:"TokenInput__remove",onClick:b,"aria-label":d,children:(0,o.jsx)(r.Icon16Cancel,{})})]},e.id))),(0,o.jsx)("div",{className:"TokenInput__caret",children:(0,o.jsx)("div",{className:"TokenInput__caretIn",children:(0,o.jsx)("input",{...v,id:e,type:"text",value:u,onChange:x,onPaste:x,placeholder:0===s.length?m:"",onKeyDown:N,className:"TokenInput__input",ref:w})})})]})}},912842:(e,t,s)=>{s.d(t,{default:()=>c});var o=s(474848),i=s(296540),n=s(440961),a=s(8520),r=s(447542);const l=e=>{const{position:t,align:s,text:o,rect:i,marginTop:n,marginLeft:a,maxWidth:r,appearance:l}=e;let c=i.left,d=i.top;switch(t){case"t":c+=.5*i.width;break;case"r":c+=i.width,d+=.5*i.height;break;case"b":c+=.5*i.width,d+=i.height;break;case"l":d+=.5*i.height}return c=Math.round(c+(a||0)),d=Math.round(d+(n||0)),{tooltip:{position:t,align:s,text:o,x:c,y:d,maxWidth:r,appearance:l}}};class c extends i.Component{componentDidMount(){const e=n.findDOMNode(this);this.setState({el:e}),e?.addEventListener("mouseenter",this.onMouseEnter),e?.addEventListener("mouseleave",this.onMouseLeave),this.props.autoOpen&&window.setTimeout((()=>{this.drawTooltip()}),this.props.autoOpen)}componentDidUpdate(e,t){!t.tooltip&&this.state.tooltip&&this.props.allowMouseOverTooltipContent&&(this.tooltipRef.current?.addEventListener("mouseenter",this.onMouseEnter),this.tooltipRef.current?.addEventListener("mouseleave",this.onMouseLeave))}componentWillUnmount(){this.state.el?.removeEventListener("mouseenter",this.onMouseEnter),this.state.el?.removeEventListener("mouseleave",this.onMouseLeave),this.tooltipRef.current?.removeEventListener("mouseenter",this.onMouseEnter),this.tooltipRef.current?.removeEventListener("mouseleave",this.onMouseLeave),clearTimeout(this.closeDelayTimeout),clearTimeout(this.openDelayTimeout)}static getDerivedStateFromProps(e,t){if(!t.tooltip)return null;return e.text!==t.tooltip.text||e.position!==t.tooltip.position||e.align!==t.tooltip.align||e.maxWidth!==t.tooltip.maxWidth||e.appearance!==t.tooltip.appearance?l({...e,rect:(0,a.getOffsetRect)(t.el instanceof HTMLElement?t.el:null)}):null}drawTooltip(){if(this.state.el&&!this.state.tooltip){const{text:e,position:t,align:s,marginTop:o,marginLeft:i,maxWidth:n,appearance:r}=this.props,l=(0,a.getOffsetRect)(this.state.el instanceof HTMLElement?this.state.el:null);this.update({text:e,position:t,align:s,rect:l,marginTop:o,marginLeft:i,maxWidth:n,appearance:r}),this.props.autoClose&&window.setTimeout((()=>{this.update()}),this.props.autoClose)}}update(e){e?this.setState(l(e)):this.setState({tooltip:Object.assign({},this.state.tooltip,{removed:!0})})}render(){const e=this.state.tooltip?{...this.state.tooltip,className:(0,a.classNames)(this.props.className,{"Tooltip--noPointerEvents":!this.props.allowMouseOverTooltipContent})}:null;return e&&"undefined"!=typeof window?(0,o.jsxs)(i.Fragment,{children:[this.props.children,(0,o.jsx)(r.default,{tooltipInRef:this.tooltipRef,...e,onTransitionEnd:this.onTransitionEnd})]}):this.props.children}constructor(e){super(e),this.tooltipRef=(0,i.createRef)(),this.onMouseEnter=()=>{this.state.tooltip?(clearTimeout(this.closeDelayTimeout),this.state.tooltip.removed&&this.setState({...this.state,tooltip:{...this.state.tooltip,removed:!1}})):this.props.delay?this.openDelayTimeout=window.setTimeout((()=>{this.openDelayTimeout=0,this.drawTooltip()}),this.props.delay):this.drawTooltip()},this.onMouseLeave=()=>{if(this.state.tooltip)this.props.delayHide?this.closeDelayTimeout=window.setTimeout((()=>{this.update()}),this.props.delayHide):this.update();else if(this.openDelayTimeout)return clearTimeout(this.openDelayTimeout),void(this.openDelayTimeout=0)},this.onTransitionEnd=e=>{"visibility"===e.propertyName&&this.state.tooltip&&this.setState({tooltip:void 0})},this.state={el:null}}}c.defaultProps={position:"b",align:"center",marginTop:0,marginLeft:0,appearance:"dark",delay:0,delayHide:0,allowMouseOverTooltipContent:!1,open:!1}},274904:(e,t,s)=>{s.d(t,{decodeHTMLEntities:()=>i});const o=[["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"'],["&#33;","!"]];function i(e){return o.reduce(((e,[t,s])=>e.replace(new RegExp(t,"ig"),s)),e).replace(/&#(\d+);/g,((e,t)=>String.fromCodePoint(t)))}},886856:(e,t,s)=>{s.d(t,{useCombinedRefs:()=>i});var o=s(296540);function i(...e){const t=(0,o.useRef)(null);return(0,o.useEffect)((()=>{e.forEach((e=>{null!==e&&null!==t&&(e.current=t.current)}))}),[e]),t}}}]);try{stManager?.done("dist/web/chunks/palette.e98c6114.js")}catch(e){}